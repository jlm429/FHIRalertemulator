<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EMRA Patient Search</title>


  <!--STYLESHEET-->
  <!--=================================================-->



  <!--Bootstrap Stylesheet [ REQUIRED ]-->
  <link href="css/bootstrap.min.css" rel="stylesheet">

  <!--Nifty Stylesheet [ REQUIRED ]-->
  <link href="css/nifty.min.css" rel="stylesheet">


  <!--Font Awesome [ OPTIONAL ]-->
  <link href="plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet">

  <!--Bootstrap Select [ OPTIONAL ]-->
  <link href="plugins/bootstrap-select/bootstrap-select.min.css" rel="stylesheet">

  <!--Bootstrap Table [ OPTIONAL ]-->
  <link href="plugins/bootstrap-table/bootstrap-table.min.css" rel="stylesheet">

  <!--X-editable [ OPTIONAL ]-->
  <link href="plugins/x-editable/css/bootstrap-editable.css" rel="stylesheet">


  <!--SCRIPT-->
  <!--=================================================-->

  <!--Page Load Progress Bar [ OPTIONAL ]-->
  <link href="plugins/pace/pace.min.css" rel="stylesheet">
  <script src="plugins/pace/pace.min.js"></script>



  <!--

    REQUIRED
    You must include this in your project.

    RECOMMENDED
    This category must be included but you may modify which plugins or components which should be included in your project.

    OPTIONAL
    Optional plugins. You may choose whether to include it in your project or not.

    DEMONSTRATION
    This is to be removed, used for demonstration purposes only. This category must not be included in your project.

    SAMPLE
    Some script samples which explain how to initialize plugins or components. This category should not be included in your project.


    Detailed information and more samples can be found in the document.

    -->


</head>

<!--TIPS-->
<!--You may remove all ID or Class names which contain "demo-", they are only used for demonstration. -->

<body>
<div id="container" class="effect mainnav-lg">
  <div class="boxed">
    <!--Basic Toolbar-->
    <!--===================================================-->
    <div class="panel">
      <div class="panel-heading">
        <h3 class="panel-title">FHIR Patient Search</h3>
      </div>
      <div class="panel-body">
        <table data-toggle="table"
               data-url="../../data/FhirPatient.txt"
               data-search="true"
               data-show-refresh="true"
               data-show-toggle="true"
               data-show-columns="false"
               data-sort-name="id"
               data-page-list="[5, 10, 20]"
               data-page-size="10"
               data-pagination="true" data-show-pagination-switch="true">
          <thead>
          <tr>
            <th data-field="Level4" data-align="center" data-sortable="true">Patient Name</th>
            <th data-field="PatientId" data-align="center" data-sortable="true">Patient ID</th>
            <th data-field="PatientDOB" data-align="center" data-sortable="true">DOB</th>
            <th data-field="PatientGender" data-align="center" data-sortable="true">Gender</th>
            <th data-field="Level1" data-sortable="true" data-formatter="statusFormatter">Last Alert Type</th>
            <th data-field="Level2" data-sortable="true">Insurance Carrier</th>
            <th data-field="Level3" data-sortable="true" >Health Provider</th>
            <th data-field="PatientUrl" data-align="center" data-sortable="true" data-formatter="LinkFormatter">FHIR URL</th>
          </tr>
          </thead>
        </table>
      </div>
    </div>
    <!--===================================================-->

  </div>

  <BR>

</div>
<!--===================================================-->
<!-- END OF CONTAINER -->




<!--JAVASCRIPT-->
<!--=================================================-->

<!--jQuery [ REQUIRED ]-->
<script src="js/jquery-2.1.1.min.js"></script>


<!--BootstrapJS [ RECOMMENDED ]-->
<script src="js/bootstrap.min.js"></script>


<!--Fast Click [ OPTIONAL ]-->
<script src="plugins/fast-click/fastclick.min.js"></script>


<!--Nifty Admin [ RECOMMENDED ]-->
<script src="js/nifty.min.js"></script>


<!--Switchery [ OPTIONAL ]-->
<script src="plugins/switchery/switchery.min.js"></script>


<!--Bootstrap Select [ OPTIONAL ]-->
<script src="plugins/bootstrap-select/bootstrap-select.min.js"></script>


<!--X-editable [ OPTIONAL ]-->
<script src="plugins/x-editable/js/bootstrap-editable.min.js"></script>


<!--Bootstrap Table [ OPTIONAL ]-->
<script src="plugins/bootstrap-table/bootstrap-table.min.js"></script>


<!--Bootstrap Table Extension [ OPTIONAL ]-->
<script src="plugins/bootstrap-table/extensions/editable/bootstrap-table-editable.js"></script>


<!--Demo script [ DEMONSTRATION ]-->
<script src="js/demo/nifty-demo.min.js"></script>


<!--Bootstrap Table Sample [ SAMPLE ]-->
<script src="js/demo/tables-bs-table.js"></script>


<!--

  REQUIRED
  You must include this in your project.

  RECOMMENDED
  This category must be included but you may modify which plugins or components which should be included in your project.

  OPTIONAL
  Optional plugins. You may choose whether to include it in your project or not.

  DEMONSTRATION
  This is to be removed, used for demonstration purposes only. This category must not be included in your project.

  SAMPLE
  Some script samples which explain how to initialize plugins or components. This category should not be included in your project.


  Detailed information and more samples can be found in the document.

  -->
<script>

  function LinkFormatter(value, row, index) {
    return "<a href='"+value+"'>"+value+"</a>";
  }

  // Fires when user click a row
  $('table').bootstrapTable({
    onClickRow: function (row, $element) {
      // row: the record corresponding to the clicked row,
      // $element: the tr element.

      //https://github.com/wenzhixin/bootstrap-table-examples/blob/master/welcome.html

     // var rowJson = JSON.stringify(row);
     // alert('You click like action, row: ' + rowJson);

     // var patientId = row.PatientId;
     // alert(patientId);

      var patientId = row.PatientId;

      window.patientId = patientId;

      window.location = "#/main";
    }
  });

</script>

</body>
</html>

